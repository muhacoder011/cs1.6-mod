<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CS 1.6 Ultimate Web Client</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<style>
*{box-sizing:border-box}
body{
    margin:0;
    font-family:'Orbitron',sans-serif;
    background:black;
    color:white;
    overflow:hidden;
}

#bgVideo{
    position:fixed;
    min-width:100%;
    min-height:100%;
    z-index:-2;
    filter:brightness(30%);
}

#menu{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    text-align:center;
    background:rgba(0,0,0,0.8);
    padding:40px;
    border-radius:20px;
    box-shadow:0 0 40px #ff6600;
    width:420px;
}

h1{
    margin-bottom:20px;
    color:#ffcc00;
    text-shadow:0 0 15px orange;
}

button{
    width:100%;
    padding:14px;
    margin:8px 0;
    font-size:16px;
    border:none;
    border-radius:10px;
    cursor:pointer;
    background:linear-gradient(45deg,#ff9900,#ff3300);
    color:white;
    transition:0.3s;
}

button:hover{
    transform:scale(1.05);
    box-shadow:0 0 15px #ff6600;
}

.panel{
    margin-top:15px;
    padding:10px;
    background:rgba(255,255,255,0.05);
    border-radius:10px;
    max-height:150px;
    overflow:auto;
    font-size:14px;
}

#gameFrame{
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:100%;
    border:none;
    display:none;
}

#weaponPreview{
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:100%;
    display:none;
}

</style>
</head>
<body>

<video autoplay muted loop id="bgVideo">
<source src="https://cdn.coverr.co/videos/coverr-gamer-room-1602/1080p.mp4" type="video/mp4">
</video>

<audio id="hoverSound" src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-retro-changing-tab-206.wav"></audio>
<audio id="clickSound" src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-jump-coin-216.wav"></audio>

<div id="menu">
<h1>CS 1.6 Web Client</h1>

<button onclick="playClick();showServers()" onmouseover="playHover()">‚ñ∂ PLAY</button>
<button onclick="playClick();openCase()" onmouseover="playHover()">üíé Open Case</button>
<button onclick="playClick();showMarket()" onmouseover="playHover()">üí∞ Market</button>
<button onclick="playClick();showRank()" onmouseover="playHover()">üèÜ Rank</button>
<button onclick="playClick();dailyReward()" onmouseover="playHover()">üéÅ Daily Reward</button>
<button onclick="playClick();openWeaponPreview()" onmouseover="playHover()">üî´ Weapon Preview 3D</button>

<div id="output" class="panel"></div>

</div>

<iframe id="gameFrame"></iframe>
<div id="weaponPreview"></div>

<script>

let money=1000;
let elo=1200;
let skins=[];

const rarities=[
{name:"Common",chance:50,color:"gray"},
{name:"Rare",chance:30,color:"deepskyblue"},
{name:"Epic",chance:15,color:"violet"},
{name:"Legendary",chance:5,color:"gold"}
];

function playHover(){ document.getElementById("hoverSound").play(); }
function playClick(){ document.getElementById("clickSound").play(); }

function showServers(){
    document.getElementById("output").innerHTML=
    "<b>Select Server:</b><br>"+
    "<button onclick='launchGame()'>EU Competitive</button>"+
    "<button onclick='launchGame()'>US Public</button>";
}

function launchGame(){
    document.getElementById("menu").style.display="none";
    const frame=document.getElementById("gameFrame");
    frame.style.display="block";
    frame.src="https://play-cs.com/en/servers";
}

function openCase(){
    let rand=Math.random()*100;
    let cumulative=0;
    for(let r of rarities){
        cumulative+=r.chance;
        if(rand<=cumulative){
            skins.push(r.name);
            document.getElementById("output").innerHTML=
            "You got: <span style='color:"+r.color+"'>"+r.name+" Skin</span>";
            return;
        }
    }
}

function showMarket(){
    let html="Money: $"+money+"<br><br>";

    const weapons=[
        {name:"AK-47 Neon",price:500},
        {name:"M4A1 Plasma",price:700},
        {name:"AWP Dragon",price:1200}
    ];

    weapons.forEach(w=>{
        html+=w.name+" - $"+w.price+
        " <button onclick='buyWeapon("+JSON.stringify(w.name)+","+w.price+")'>Buy</button><br>";
    });

    html+="<hr>Your skins:<br>";

    skins.forEach((s,i)=>{
        html+=s+" <button onclick='sellSkin("+i+")'>Sell</button><br>";
    });

    document.getElementById("output").innerHTML=html;
}

function buyWeapon(name,price){
    if(money>=price){
        money-=price;
        skins.push(name);
        showMarket();
    }else{
        alert("Not enough money");
    }
}

function sellSkin(i){
    money+=200;
    skins.splice(i,1);
    showMarket();
}

function showRank(){
    let rank="Silver";
    if(elo>2000)rank="Global Elite";
    else if(elo>1500)rank="Master";
    else if(elo>1300)rank="Gold Nova";
    document.getElementById("output").innerHTML="ELO: "+elo+"<br>Rank: "+rank;
}

function dailyReward(){
    let reward=Math.floor(Math.random()*500);
    money+=reward;
    document.getElementById("output").innerHTML="Daily reward: $"+reward;
}

// THREE.JS WEAPON PREVIEW (M4 STYLE MODEL)
let scene,camera,renderer,weaponGroup,smokeParticles=[];

function openWeaponPreview(){
    document.getElementById("menu").style.display="none";
    const container=document.getElementById("weaponPreview");
    container.innerHTML="";
    container.style.display="block";

    scene=new THREE.Scene();
    camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);
    renderer=new THREE.WebGLRenderer({antialias:true});
    renderer.setSize(window.innerWidth,window.innerHeight);
    container.appendChild(renderer.domElement);

    const light=new THREE.PointLight(0xffffff,1);
    light.position.set(5,5,5);
    scene.add(light);

    const ambient=new THREE.AmbientLight(0x404040);
    scene.add(ambient);

    weaponGroup=new THREE.Group();

    // Barrel
    const barrelGeo=new THREE.CylinderGeometry(0.08,0.08,4,32);
    const barrelMat=new THREE.MeshStandardMaterial({color:0x222222,metalness:0.9,roughness:0.2});
    const barrel=new THREE.Mesh(barrelGeo,barrelMat);
    barrel.rotation.z=Math.PI/2;
    barrel.position.x=1.5;
    weaponGroup.add(barrel);

    // Body
    const bodyGeo=new THREE.BoxGeometry(3,0.5,0.6);
    const bodyMat=new THREE.MeshStandardMaterial({
        color:0x00ffcc,
        metalness:0.9,
        roughness:0.2,
        emissive:0x00ffcc,
        emissiveIntensity:0.5
    });
    const body=new THREE.Mesh(bodyGeo,bodyMat);
    weaponGroup.add(body);

    // Stock
    const stockGeo=new THREE.BoxGeometry(1.5,0.4,0.6);
    const stock=new THREE.Mesh(stockGeo,bodyMat);
    stock.position.x=-2;
    weaponGroup.add(stock);

    // Grip
    const gripGeo=new THREE.BoxGeometry(0.4,1,0.4);
    const grip=new THREE.Mesh(gripGeo,bodyMat);
    grip.position.set(-0.5,-0.8,0);
    weaponGroup.add(grip);

    scene.add(weaponGroup);

    // create smoke particles
    const smokeGeo=new THREE.SphereGeometry(0.1,8,8);
    const smokeMat=new THREE.MeshBasicMaterial({color:0xaaaaaa,transparent:true,opacity:0.5});

    for(let i=0;i<40;i++){
        const smoke=new THREE.Mesh(smokeGeo,smokeMat.clone());
        smoke.position.set(-2+Math.random(),Math.random()-0.5,Math.random()-0.5);
        smokeParticles.push(smoke);
        scene.add(smoke);
    }

    camera.position.z=7;

    animate3D();

    // mouse color change
    window.addEventListener('click',()=>{
        const color=new THREE.Color(Math.random(),Math.random(),Math.random());
        weaponGroup.children.forEach(part=>{
            part.material.color=color;
            part.material.emissive=color;
        });
    });
}

function animate3D(){
    requestAnimationFrame(animate3D);
    if(weaponGroup){
        weaponGroup.rotation.y+=0.01;

        // glowing pulse effect
        const time=Date.now()*0.002;
        weaponGroup.children.forEach(part=>{
            if(part.material){
                part.material.emissiveIntensity=0.5+Math.sin(time)*0.3;

                // color shift rainbow effect
                const hue=(time*0.1)%1;
                const color=new THREE.Color();
                color.setHSL(hue,1,0.5);
                part.material.color=color;
                part.material.emissive=color;
            }
        });
    }
    // animate smoke
        smokeParticles.forEach(p=>{
            p.position.x-=0.02;
            p.material.opacity-=0.005;
            if(p.material.opacity<=0){
                p.position.x=-2;
                p.material.opacity=0.5;
            }
        });

        renderer.render(scene,camera);
}

</script>

</body>
</html>
